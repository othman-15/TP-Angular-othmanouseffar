<div class="container d-flex justify-content-center align-items-center min-vh-100 bg-light">
  <div class="card shadow-lg p-5 rounded-4" style="width: 100%; max-width: 600px;">
    <div class="text-center mb-4">
      <h2 class="text-dark fw-bold">Add New Product</h2>
      <p class="text-muted mb-0">Fill in the product details below</p>
    </div>

    <form (ngSubmit)="onSubmit()">
      <div class="mb-3">
        <label for="productTitle" class="form-label fw-semibold">Product Name*</label>
        <input
          type="text"
          class="form-control rounded-pill px-4"
          id="productTitle"
          [(ngModel)]="newProduct.productTitle"
          name="productTitle"
          required
        />
      </div>

      <div class="mb-3">
        <label for="productPrice" class="form-label fw-semibold">Price (DH)*</label>
        <input
          type="number"
          class="form-control rounded-pill px-4"
          id="productPrice"
          [(ngModel)]="newProduct.productPrice"
          name="productPrice"
          required
          min="0"
          step="0.01"
        />
      </div>

      <div class="mb-3">
        <label for="category" class="form-label fw-semibold">Category*</label>
        <input
          type="text"
          class="form-control rounded-pill px-4"
          id="category"
          [(ngModel)]="newProduct.category"
          name="category"
          required
        />
      </div>

      <div class="mb-3">
        <label for="quantity" class="form-label fw-semibold">Quantity*</label>
        <input
          type="number"
          class="form-control rounded-pill px-4"
          id="quantity"
          [(ngModel)]="newProduct.quantity"
          name="quantity"
          required
          min="0"
        />
      </div>

      <div class="mb-3">
        <label for="colors" class="form-label fw-semibold">Colors</label>
        <input
          type="text"
          class="form-control rounded-pill px-4"
          id="colors"
          [(ngModel)]="colorsInput"
          name="colors"
          placeholder="Red, Blue, Green"
        />
        <small class="text-muted">Separate colors with commas</small>
      </div>

      <div class="mb-3">
        <label for="productImage" class="form-label fw-semibold">Product Image*</label>
        <input
          type="file"
          class="form-control"
          id="productImage"
          (change)="onFileSelected($event)"
          accept="image/*"
          required
        />

        <!-- PrÃ©visualisation et chemin -->
        <div *ngIf="previewUrl" class="mt-2">
          <img [src]="previewUrl" alt="Preview" class="img-thumbnail" style="max-height: 200px;">
          <small class="text-muted d-block">
            Chemin: {{newProduct.image}}<br>
            (Copiez le fichier manuellement dans assets/images/products/)
          </small>
        </div>
      </div>

      <div class="mb-3 form-check form-switch">
        <input
          class="form-check-input"
          type="checkbox"
          id="favorite"
          [(ngModel)]="newProduct.favorite"
          name="favorite"
        />
        <label class="form-check-label" for="favorite">Mark as favorite</label>
      </div>

      <div *ngIf="errorMessage" class="alert alert-danger text-center py-2">
        {{ errorMessage }}
      </div>

      <div class="d-flex justify-content-between mt-4">
        <button type="button" class="btn btn-outline-secondary rounded-pill px-4" (click)="router.navigate(['/admin/products'])">
          Cancel
        </button>
        <button type="submit" class="btn btn-dark rounded-pill px-4">
          Add Product
        </button>
      </div>
    </form>
  </div>
</div>
